<!DOCTYPE html>
<html>
<head>
    <title>Toolbox Widget Tests</title>

    <!-- CSS -->
    <style type='text/css'>
        @import 'http://serverapi.arcgisonline.com/jsapi/arcgis/2.8/js/dojo/dijit/themes/claro/claro.css';
        @import '../css/Toolbox.css';

        #map-div {
            width: 300px;
            height: 300px;
            border: solid 1px gray;
        }
    </style>

    <!-- JAVASCRIPT -->
    <script src="../../js/globals.js" type="text/javascript"></script>
    <script type='text/javascript'>
        djConfig = {
            isDebug: true,
            baseUrl: './',
            modulePaths: {
                raster: '../../raster',
                agrc: '../../agrc',
                ijit: '../../ijit',
                doh: '../../doh'
            }
        }
    </script>
    <script src='http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.8' type="text/javascript" charset="utf-8"></script>

    <script type='text/javascript'>
        dojo.require("doh._browserRunner");
        dojo.require('raster.Toolbox');
        dojo.require('agrc.widgets.map.BaseMap');

        dojo.ready(function () {
            var map = new agrc.widgets.map.BaseMap('map-div');
            var testWidget;

            function setUp() {
                testWidget = new raster.Toolbox({map: map}, 'test-div');
            }

            function tearDown() {
                testWidget.destroyRecursive(true);
            }

            doh.register('Toolbox', [
                {
                    name: 'postCreate',
                    setUp: setUp,
                    runTest: function () {
                        doh.t(testWidget.pStack instanceof ijit.widgets.layout.PaneStack, 'pane stack created successfully');
                    },
                    tearDown: tearDown
                },function widgetCreation() {
                    setUp();
                    doh.t(testWidget instanceof dijit._Widget);
                }
            ]);

            doh.run();
        });
    </script>
</head>
<body class='claro'>
    <h1>Toolbox Tests</h1>
    <div id='test-div'></div>
    <div id='map-div'></div>
</body>
</html>